需求第一版
好的，这个需求非常清晰，是一个典型的**“工具+社区激励”类的应用。核心在于通过周期性的记录和可视化的奖励**来维持用户的活跃度。
为了适配移动端（H5）并兼容电脑端，我们在设计上采用**Mobile First（移动端优先）**的原则，UI布局采用响应式设计。
以下为您整理的《每周体重挑战赛应用需求文档 (PRD)》。
每周体重挑战赛应用需求文档 (PRD)
1. 项目概述
项目名称：体重挑战赛（暂定名）
平台：H5 Web App（自适应手机与PC浏览器）
核心目标：通过每周一的体重打卡、排名激励和荣誉证书系统，督促用户管理体重。
目标用户：减肥社群、健身房会员、公司内部健康活动参与者。
2. 核心业务逻辑说明
打卡周期：每周一 00:00 - 20:00（时间可配置）。
结算时间：每周一 21:00（系统自动结算或管理员手动触发）。
排名算法：
计算公式：(上周体重 - 本周体重)。数值越大，排名越靠前（即减重越多排名越高）。
注：如果是第一周打卡，没有“上周体重”，则仅记录基准数据，不参与减重排名，或者视为并列第一/特定参与奖。
奖状生成：系统利用管理员上传的“底图”，动态合成文字（用户姓名、日期、排名/奖项名称），生成一张新的图片发给用户。
3. 页面功能详细设计
根据需求，我们将应用划分为 5 个核心页面/模块。
3.1. 首页 / 仪表盘 (Dashboard)
这是用户进入后的第一个页面，展示当前状态和核心入口。
UI 元素：
顶部 Banner：本周挑战倒计时或口号。
核心状态卡片：
状态 A（未打卡）：显示“本周一打卡开启中”，由醒目的【立即打卡】按钮。
状态 B（已打卡）：显示“打卡成功，等待结算”，显示【查看我的记录】按钮。
状态 C（非打卡时间）：显示“距离下一次打卡还有 X 天”。
上周战况播报：滚动展示上周前三名用户的头像和减重数据（例如：“恭喜 UserA 上周减重 2kg”）。
快捷入口：荣誉墙、体重趋势、排行榜。
3.2. 打卡页 (Check-in Page)
用户输入数据和上传凭证的页面。
功能点：
体重输入：数字键盘输入，支持一位或两位小数（kg）。
照片上传：
调用手机摄像头或相册。
图片压缩上传（节省流量）。
图片预览与删除重选。
提交校验：必须同时有数字和图片才能提交。
防作弊（可选）：记录用户提交时的地理位置或IP，或者限制只能现场拍照（不许选相册）。
逻辑：
提交后，覆盖当周数据（若允许修改）。
如果本周是第一次打卡，提示“这是您的初始体重，下周开始计算排名”。
3.3. 排行榜页 (Leaderboard)
每周结算后展示排名的页面。
UI 元素：
本周榜单（默认）：
Top 1-3：特殊的UI样式（金银铜皇冠图标），展示头像、昵称、减重数值（或百分比）、获得的奖状缩略图。
Rank 4+：列表展示，展示头像、昵称、减重数值。
历史榜单：可以通过下拉菜单选择查看“往期榜单”（如：2023年第40周）。
逻辑：
未参与本周打卡的用户不显示在榜单中。
保护隐私：除了前三名，其他人的具体体重数值可以选择隐藏，只显示减重差值。
3.4. 个人中心 & 荣誉墙 (Profile & Honor Wall)
这是用户查看自己成就的地方，包含两个核心板块。
板块一：体重趋势图
UI：折线图（ECharts/Chart.js）。
X轴：日期（周）。
Y轴：体重（kg）。
功能：直观展示体重下降/上升曲线。支持缩放查看。
板块二：荣誉墙 (Grid View)
UI：网格布局，类似相册。
内容：
按时间倒序排列用户获得的所有奖状。
奖状分为不同边框颜色：金色（冠军）、银色（亚军）、铜色（季军）、普通色（参与奖）。
交互：点击某张奖状，可以放大查看大图，并提供【长按保存】或【一键分享】功能（分享到微信朋友圈）。
3.5. 后台管理系统 (Admin Panel)
管理员使用的PC端页面（也可以适配手机，但PC操作更方便）。
功能点：
奖状模板管理：
默认模板设置：上传4张图（冠军底图、亚军底图、季军底图、参与奖底图）。
本周特殊模板：管理员可以指定“2023年第X周”使用一套特殊的节日限定底图。如果未上传，系统自动使用默认模板。
用户数据管理：
查看所有用户的打卡记录（含照片），用于审核。
如果发现照片造假，管理员可以【作废】该条数据。
结算控制：
手动触发结算按钮（以防自动任务失败）。
导出Excel数据。
4. 关键技术逻辑与交互细节
4.1. 奖状合成逻辑
这是本系统的亮点功能。系统需要在后端自动合成图片。
输入：
底图（Admin上传的背景图）。
文本信息：用户昵称、获得名次（如“第1名”或“参与奖”）、日期、减重数值（可选）。
处理：
系统将文本“印”在底图的预设坐标上。
生成一张新的 JPG/PNG 图片存储在云端。
用户在荣誉墙看到的就是这张合成后的图。
4.2. 排名规则补充
体重差值计算：Diff = Weight(T-1) - Weight(T)。
并列处理：如果两个人减重数值完全一样，怎么排？
方案A：并列名次（如两个第1，则没有第2，直接第3）。
方案B：先提交的人排前面（鼓励早打卡）。建议使用方案B，简单且能促进活跃。
4.3. 自适应设计 (Responsive)
手机端：单栏布局，底部导航栏（首页 | 打卡 | 排行 | 我的）。
电脑端：
内容居中，最大宽度限制（如 480px - 600px），模拟手机App的视觉体验。
或者采用左右分栏，左侧菜单，右侧内容。
背景可增加模糊的纹理，避免在大屏幕上显得太空。
5. 建议的数据结构 (简易版)
为了方便开发，这里列出核心数据模型：
1. 用户表 (Users)
id, nickname, avatar, created_at
2. 打卡记录表 (Checkins)
id, user_id, weight (本次体重), photo_url (凭证), week_number (如202342), created_at
3. 排名与奖励表 (Rewards)
id, user_id, week_number, weight_diff (减重差值), rank (名次), certificate_img_url (合成后的奖状地址), type (1=冠军, 2=亚军, 3=季军, 4=参与)
4. 奖状配置表 (CertConfigs)
id, week_number (若为0或null则为默认), img_gold, img_silver, img_bronze, img_participate
6. 后续扩展建议 (Optional)
如果一期做完还有余力，可以考虑：
分享海报：打卡成功后，生成一张“今日已打卡”的海报供用户发朋友圈，带上应用的二维码，用于裂变拉新。
体重围度：除了体重，增加体脂率或腰围记录。
评论/点赞：在排行榜上，大家可以给前三名点赞。
这个文档是否符合你的预期？如果你需要具体的UI线框图描述或者技术栈推荐（比如前端用Vue/React，后端用Python/Node.js），我也可以进一步补充。