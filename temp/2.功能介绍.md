# WeighIn 功能介绍文档

## 📱 应用概述

**WeighIn** 是一款基于 H5 Web 的体重管理应用，通过每周体重打卡、排名激励和荣誉证书系统，帮助用户持续管理体重。应用采用移动端优先设计，同时兼容 PC 浏览器，提供流畅的跨平台体验。

## 🎯 核心功能

### 打卡周期
- **打卡时间**：每周一 00:00 - 20:00
- **结算时间**：每周一 21:00（系统自动结算）
- **排名规则**：根据（上周体重 - 本周体重）计算，减重越多排名越高

---

## 📄 页面功能详解

### 1. 首页（Dashboard）

**入口**：应用启动后的默认页面，或点击底部导航栏的"首页"图标

#### 主要功能

##### 1.1 顶部 Banner
- 显示应用名称 "WeighIn"
- 展示激励口号："坚持每周，遇见更好的自己"
- 右上角显示用户头像，点击可快速进入个人主页

##### 1.2 核心状态卡片
根据当前打卡状态显示不同内容：

**状态 A - 未打卡（打卡开启中）**
- 显示"本次打卡倒计时"提示
- **翻页倒计时时钟**：精确到分钟，显示距离打卡结束的剩余时间（格式：HH:MM）
- **立即打卡**按钮：点击跳转到打卡页面

**状态 B - 已打卡**
- 显示"打卡成功！"提示
- 显示本周体重数据
- 提示"已提交，等待今晚 21:00 结算"
- **查看我的记录**按钮：点击跳转到个人主页

**状态 C - 打卡已关闭**
- 显示"打卡已关闭"提示
- 显示距离下一次打卡的天数
- **查看本周排行榜**按钮：点击跳转到排行榜页面

##### 1.3 快捷入口
提供三个快捷入口卡片：

1. **名人堂**：点击跳转到名人堂页面，查看历史荣誉总排名
2. **体重趋势**：点击跳转到个人主页的"体重趋势"标签页
3. **荣誉墙**：点击跳转到个人主页的"荣誉墙"标签页

---

### 2. 打卡页面（Check-in Page）

**入口**：
- 首页状态卡片中的"立即打卡"按钮
- 底部导航栏的"打卡"图标

#### 主要功能

##### 2.1 打卡时间提示
- 显示打卡时间说明："每周一 00:00 - 20:00 开放打卡，21:00 自动结算排名"
- 首次打卡会显示特殊提示："首次打卡将作为基准体重，下周开始计算排名"

##### 2.2 体重输入
- **输入方式**：数字键盘输入
- **格式要求**：支持一位或两位小数（单位：kg）
- **输入框**：大号输入框，右侧显示"kg"单位标识
- **历史数据**：如果不是首次打卡，会显示上周体重和预计变化值

##### 2.3 照片上传
- **上传方式**：
  - **拍照上传**：调用手机摄像头直接拍照
  - **相册选择**：从手机相册中选择照片
- **功能特性**：
  - 图片预览：上传后立即显示预览
  - 删除重选：可以删除已上传的照片重新选择
  - 图片压缩：自动压缩图片以节省流量

##### 2.4 提交打卡
- **校验规则**：必须同时输入体重和上传照片才能提交
- **提交按钮**：渐变绿色按钮，禁用状态下无法点击
- **提交后**：显示成功提示，数据可在 20:00 前修改

---

### 3. 排行榜（Leaderboard）

**入口**：
- 底部导航栏的"排行榜"图标
- 首页快捷入口的"排行榜"（如果存在）

#### 主要功能

##### 3.1 周期选择
- **下拉菜单**：可以选择查看不同周期的排行榜
- **默认显示**：本周（当前周）的排行榜
- **历史查看**：可以查看往期榜单（如：2024年第50周、第49周等）

##### 3.2 结算时间提示
- 显示本周结算时间信息

##### 3.3 Top 3 特殊展示
前三名采用特殊的卡片样式：

- **第1名（冠军）**：
  - 金色渐变背景
  - 皇冠图标
  - "冠军"徽章
  - 显示减重数值和百分比
  
- **第2名（亚军）**：
  - 银色渐变背景
  - 奖牌图标
  - "亚军"徽章
  - 显示减重数值和百分比
  
- **第3名（季军）**：
  - 铜色渐变背景
  - 奖牌图标
  - "季军"徽章
  - 显示减重数值和百分比

##### 3.4 Rank 4+ 列表展示
- 列表形式展示第4名及以后的用户
- 显示排名、头像、昵称、减重数值
- 简洁的卡片样式

##### 3.5 用户交互
- **点击头像**：跳转到该用户的个人主页
- **点击名字**：跳转到该用户的个人主页
- **悬停效果**：头像和名字在鼠标悬停时显示下划线提示

##### 3.6 底部说明
- 显示排名计算规则说明

---

### 4. 个人中心（Profile Page）

**入口**：
- 底部导航栏的"我的"图标
- 顶部导航栏的头像
- 排行榜/名人榜中点击其他用户的头像或名字

#### 主要功能

##### 4.1 个人信息板块

**查看自己的主页时**：
- **头像显示**：大尺寸头像（24x24），带圆环装饰
- **昵称显示**：显示当前昵称
- **编辑功能**：
  - **编辑资料**按钮：点击进入编辑模式
  - **编辑模式**：
    - 头像右下角显示相机图标，可上传新头像
    - 昵称输入框，可修改昵称
    - **保存**和**取消**按钮

**查看别人的主页时**：
- 显示该用户的头像和昵称
- **不显示编辑功能**
- 顶部显示**返回**按钮，可返回上一页

##### 4.2 标签页切换

提供两个标签页：

**标签页 1：体重趋势**

- **统计卡片**：
  - **累计减重**：显示总减重数值和变化范围（如：从 75.0 kg → 68.5 kg）
  - **参与周数**：显示参与的总周数和平均每周减重
  
- **体重变化曲线图**：
  - 折线图展示体重变化趋势
  - X轴：日期（周）
  - Y轴：体重（kg）
  - 支持交互查看具体数值
  
- **打卡历史列表**：
  - 按时间倒序显示所有打卡记录
  - 每条记录显示：周次、日期、体重、与上周的差值（↑/↓）

**标签页 2：荣誉墙**

- **成就统计**：
  - 四个统计卡片：冠军数、亚军数、季军数、参与奖数
  - 每个卡片显示对应的奖牌图标和数量
  
- **奖状网格**：
  - 网格布局展示所有获得的奖状
  - 按时间倒序排列
  - 不同奖项使用不同颜色的渐变背景：
    - 金色：冠军
    - 银色：亚军
    - 橙色：季军
    - 蓝色：参与奖
  
- **奖状交互**：
  - 鼠标悬停显示操作按钮
  - **保存**按钮：保存奖状到相册
  - **分享**按钮：分享奖状到朋友圈
  
- **分享提示**：底部提示可以保存或分享奖状

---

### 5. 名人堂（Hall of Fame）

**入口**：
- 首页快捷入口的"名人堂"卡片

#### 主要功能

##### 5.1 积分规则说明
- 显示积分计算规则：
  - 冠军 = 3分
  - 亚军 = 2分
  - 季军 = 1分

##### 5.2 Top 3 特殊展示
前三名采用特殊卡片样式：

- **第1名（殿堂之王）**：
  - 金色渐变背景和边框
  - 皇冠图标
  - 显示总积分
  - 获奖统计：冠军、亚军、季军、参与周数
  
- **第2名（名人堂银冠）**：
  - 银色渐变背景和边框
  - 奖牌图标
  - 显示总积分
  - 获奖统计
  
- **第3名（名人堂铜冠）**：
  - 橙色渐变背景和边框
  - 奖牌图标
  - 显示总积分
  - 获奖统计

##### 5.3 Rank 4+ 列表展示
- 列表形式展示第4名及以后的用户
- 显示排名、头像、昵称、获奖统计、总积分

##### 5.4 用户交互
- **点击头像**：跳转到该用户的个人主页
- **点击名字**：跳转到该用户的个人主页

##### 5.5 底部说明
- 说明名人堂是根据历史所有周期的排名综合计算

---

### 6. 后台管理系统（Admin Panel）

**入口**：通过特殊路径访问（需要管理员权限）

#### 主要功能

##### 6.1 奖状模板管理
- **默认模板设置**：上传4张底图（冠军、亚军、季军、参与奖）
- **特殊模板**：可以为特定周次设置特殊的节日限定底图

##### 6.2 用户数据管理
- 查看所有用户的打卡记录（含照片）
- 审核功能：发现照片造假可以作废该条数据

##### 6.3 结算控制
- 手动触发结算按钮（以防自动任务失败）
- 导出 Excel 数据

---

## 🎨 界面设计特点

### 7.1 设计风格
- **Apple 风格**：采用苹果风格的设计语言
- **毛玻璃效果**：底部导航栏使用毛玻璃背景
- **圆角设计**：卡片和按钮采用圆角设计
- **渐变色彩**：使用渐变色增强视觉效果

### 7.2 响应式设计
- **移动端优先**：主要针对手机端优化
- **PC 端适配**：内容居中显示，最大宽度限制，模拟手机 App 体验
- **底部安全区域**：适配 iPhone 等设备的底部安全区域

### 7.3 交互体验
- **平滑动画**：页面切换和状态变化使用平滑过渡动画
- **视觉反馈**：按钮点击、悬停等操作有明确的视觉反馈
- **翻页倒计时**：使用翻页时钟样式显示倒计时，精确到分钟

---

## 🔄 核心业务流程

### 8.1 打卡流程
1. 用户在打卡时间内进入打卡页面
2. 输入本周体重（支持小数）
3. 上传体重秤照片作为凭证
4. 点击"提交打卡"按钮
5. 系统保存数据，可在 20:00 前修改
6. 21:00 系统自动结算，生成排名和奖状

### 8.2 查看排名流程
1. 结算后，用户进入排行榜页面
2. 查看本周排名和减重数据
3. 可以点击其他用户的头像/名字查看其个人主页
4. 查看历史排行榜（通过下拉菜单选择周期）

### 8.3 查看个人数据流程
1. 进入个人中心（"我的"页面）
2. 切换到"体重趋势"标签页查看体重变化曲线
3. 切换到"荣誉墙"标签页查看所有获得的奖状
4. 可以保存或分享奖状

---

## 📱 导航结构

### 9.1 底部导航栏
固定显示在页面底部，包含四个主要入口：

1. **首页**：返回首页，查看打卡状态和快捷入口
2. **打卡**：进入打卡页面，提交本周体重数据
3. **排行榜**：查看本周和历史排行榜
4. **我的**：进入个人中心，查看个人数据和荣誉

### 9.2 顶部导航栏
- **应用名称**：显示 "WeighIn"
- **用户头像**：点击快速进入个人主页

---

## 💡 使用提示

1. **首次使用**：首次打卡会作为基准体重，下周开始计算排名
2. **打卡时间**：注意每周一 20:00 前完成打卡，过期无法提交
3. **数据修改**：提交后可在 20:00 前修改数据
4. **查看他人**：在排行榜或名人堂中点击头像或名字可以查看其他用户的个人主页
5. **分享荣誉**：在荣誉墙中可以保存或分享获得的奖状

---

## 🔮 未来扩展功能（规划中）

- 分享海报：打卡成功后生成"今日已打卡"海报
- 体重围度：增加体脂率或腰围记录
- 社交互动：在排行榜上给前三名点赞
- 更多数据统计和分析功能

---

## 📞 技术支持

如有问题或建议，请联系技术支持团队。

---

*最后更新：2024年12月*

